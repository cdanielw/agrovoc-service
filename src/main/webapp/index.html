<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Agrovoc term selector</title>
    <link href="css/css3pie-bootstrap.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/docs.css" rel="stylesheet">
    <link href="css/agrovoc.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <![endif]-->
</head>
<body onload="prettyPrint()" data-spy="scroll" data-target=".bs-docs-sidebar">
<div class="container">
<div class="hero-unit">
    <h2>Agrovoc term selector</h2>

    <p>This is a JSONP serving service and a companioning <a href="http://jquery.com/">jQuery</a> plug-in, used for
        selecting <a href="http://www.fao.org/agrovoc/">Agrovoc</a> terms. It would typically be used to tag various
        resources, or select terms to include when searching for resources.</p>
</div>

<div class="container">
<div class="row">
<div class="span3 bs-docs-sidebar">
    <ul class="nav nav-list bs-docs-sidenav" data-spy="affix" data-offset-top="310">
        <li><a href="#gettingStarted"><i class="icon-chevron-right"></i> Getting started</a></li>
        <li><a href="#api"><i class="icon-chevron-right"></i> Client APIs</a></li>
        <li><a href="#selectingTerms"><i class="icon-chevron-right"></i> Selecting terms</a></li>
        <li><a href="#renderingTerms"><i class="icon-chevron-right"></i> Rendering terms</a></li>
        <li><a href="#jsonpService"><i class="icon-chevron-right"></i> JSONP service</a></li>
    </ul>
</div>
<div class="span9">
<section id="gettingStarted">

    <div class="page-header">
        <h2>Getting started </h2>
    </div>

    <p>To get this working at all, a couple of JavaScript libraries must be loaded on the page.
        The <a href="js/jquery.agrovoc.js">plug-in</a> is dependent on <a
                href="http://jquery.com/">jQuery</a>
        and
        the <a href="http://twitter.github.com/bootstrap/javascript.html#typeahead">Typeahead</a> in
        Twitter's <a href="http://twitter.github.com/bootstrap/">Bootstrap</a>.
        So these need to be included, in addition to the plug-in itself.
        The complete Bootstrap JavaScript library can of course be included instead of only the
        Typeahead,
        if more Bootstrap JavaScript components are used on your page. You might want to put the scripts
        at the end of the body, to make the page render faster.</p>

<pre class="prettyprint linenums">
&lt;script src="js/jquery.js"&gt;&lt;/script&gt;
&lt;script src="js/bootstrap-typeahead.js"&gt;&lt;/script&gt;
&lt;script src="js/jquery.agrovoc.js"&gt;&lt;/script&gt;
</pre>

    <p>To make things look good, you'd probably want to add some CSS too.
        For now, we'll add the complete Bootstrap style in addition to some plug-in specific styling.
        There'll be details on the styling further ahead.</p>


<pre class="prettyprint linenums">
&lt;link href="css/bootstrap.css" rel="stylesheet"&gt;
&lt;link href="css/agrovoc.css" rel="stylesheet"&gt;
</pre>

    <p>There are two modes of the plug-in. It can be used to select terms, or render pre-selected terms.
        Here is an example of a term selector:</p>

    <div class="bs-docs-example">
        <input type="text"
               placeholder="Type something..."
               data-provide="agrovoc">
    </div>

<pre class="prettyprint linenums">
&lt;input name="example1" type="text"
       placeholder="Type something..."
       data-provide="agrovoc"&gt;
</pre>

    <p>The <code>data-provide="agrovoc"</code> attribute is placed on an <code>input</code> tag.
        This tells the plug-in it's a term selector. Below is an example of a term renderer:</p>

    <div class="bs-docs-example">
        <ul data-provide="agrovoc"
            data-codes="36390, 4669"></ul>
    </div>

<pre class="prettyprint linenums">
&lt;ul data-provide="agrovoc"
    data-codes="36390, 4669"&gt;&lt;/ul&gt;
</pre>

    <p><code>data-provide="agrovoc"</code> attribute is placed on an <code>ul</code>.
        This tells the plug-in it's a term renderer.
        The <code>data-codes</code> attribute specify the Agrovoc codes to render.</p>

</section>

<section id="api">

    <div class="page-header">
        <h2>Client APIs</h2>
    </div>


    <p>
        The plug-in can be used through two separate APIs. With the Data attribute API, as in the
        previous section, or through a Programmatic API. It follows the convensions used in the
        Bootstrap
        <a href="http://twitter.github.com/bootstrap/javascript.html#overview">JavaScript components</a>,
        so more details can be found there.
    </p>

    <p>In short, the Data attribute API allows you to use the plug-in without writing any JavaScript.
        <code>data-*</code> attributes are used setup and configure the plug-in.
        The Programmatic API looks like any other jQuery plug-in.
    </p>

    <div class="bs-docs-example">
        <ul id="programmaticApiExample"></ul>
    </div>
<pre class="prettyprint linenums">
&lt;ul id="programmaticApiExample"&gt;&lt;ul&gt;

&lt;script type="text/javascript"&gt;
    $('ul#programmaticApiExample').agrovoc({ codes: [36390, 4669] });
&lt;/script&gt;
</pre>
    <p>The rest of this document will be using the Data attribute API.</p>
</section>


<section id="selectingTerms">

    <div class="page-header">
        <h2>Selecting terms</h2>
    </div>

    <!-- TODO: Describe the functions of the widget -->

    <!-- TODO: Ordering of results -->

    <!-- TODO: Non-descriptors -->


    <p>If the plug-in is applied to an input text field, the term selection widget is used.
        When typing into the field, matching Agrovoc terms are displayed in a drop down.
        Terms match the query string if, for all words in the query string, there are words in a term beginning with the
        query string word. The matching is case-insensitive.</p>

    <p>Terms matching the provided query are sorted as follows:
    </p>
    <ul>
        <li>Exact match</li>
        <li>Lexically sorted terms starting with the query string</li>
        <li>Lexically sorted terms containing words with the query string</li>
    </ul>

    <h3>Options</h3>

    <p> Below is an example with all configuration options specified with their default values.</p>

    <div class="bs-docs-example">
        <input type="text"
               data-provide="agrovoc"
               data-codes=""
               data-hits="8"
               data-suggestions="20"
               data-url="http://168.202.48.143:8080/agrovoc">
    </div>

<pre class="prettyprint linenums">
&lt;input type="text"
       data-provide="agrovoc"
       data-codes=""
       data-hits="8"
       data-suggestions="20"
       data-suggest="synonyms, broader"
       data-url="http://168.202.48.143:8080/agrovoc"&gt;
</pre>

    <table class="table table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>codes</td>
            <td>string</td>
            <td></td>
            <td>A comma separated list of Agrovoc term codes to pre-select when initializing the widget.</td>
        </tr>
        <tr>
            <td>hits</td>
            <td>number</td>
            <td>8</td>
            <td>The max number of terms to display in the dropdown when searching for term.</td>
        </tr>
        <tr>
            <td>suggestions</td>
            <td>number</td>
            <td>20</td>
            <td>The max number of terms to suggest when selecting a term in the dropdown.</td>
        </tr>
        <tr>
            <td>suggest</td>
            <td>string</td>
            <td>synonyms, broader</td>
            <td>Defines the relation types to include when providing suggestions.
                Valid values are comma separated list of <em>synonyms</em>, <em>broader</em> and <em>narrower</em>.
                When no relation types are specified, no suggestions are provided.
            </td>
        </tr>
        <tr>
            <td>url</td>
            <td>url</td>
            <td>http://168.202.48.143:8080/agrovoc</td>
            <td>The URL to the JSONP service.</td>
        </tr>
        </tbody>
    </table>


    <h3>Events</h3>
    <table class="table table-bordered table-striped">
        <thead>
        <tr>
            <th>Event</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>selected</td>
            <td>This events fires immediately when a term has been selected.</td>
        </tr>
        <tr>
            <td>removed</td>
            <td>This events fires immediately when a selected term has been removed.</td>
        </tr>
        </tbody>
    </table>

    <h3>Submitting selected terms</h3>

    <p>Sometimes it's useful to submit selected terms in an HTML form.
        To do this, put the input text field in a form and provide a name attribute.
        When selecting terms, hidden input fields, with the same name as the input text field, are created.</p>

    <p>Try the below example. Notice how the URL query parameters change when submitting the field with different terms
        selected.</p>

    <div id="submitExample" class="bs-docs-example">
        <form action="#submitExample" method="get">
            <input type="text" name="codes"
                   data-provide="agrovoc"
                   data-codes="36390, 4669">
            <input type="submit" class="btn">
        </form>
    </div>

<pre class="prettyprint linenums">
&lt;form action="#submitExample" method="get"&gt;
    &lt;input type="text" name="codes"
           data-provide="agrovoc"
           data-codes="36390, 4669"&gt;
    &lt;input type="submit" class="btn"&gt;
&lt;/form&gt;
</pre>


    <!-- TODO: Structure -->

    <!-- TODO: Styling -->
</section>
<section id="renderingTerms">

    <div class="page-header">
        <h2>Rendering terms</h2>
    </div>

</section>

<section id="jsonpService">

    <div class="page-header">
        <h2>JSONP service</h2>
    </div>

</section>

</div>
</div>
</div>
</div>
<script src="js/jquery.js"></script>
<script src="js/bootstrap-typeahead.js"></script>
<script src="js/jquery.agrovoc.js"></script>

<script src="js/bootstrap-affix.js"></script>
<script src="js/bootstrap-scrollspy.js"></script>
<script src="js/prettify.js"></script>
<script type="text/javascript">
    $('ul#programmaticApiExample').agrovoc({ codes: [36390, 4669]});
</script>
</body>
</html>